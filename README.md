# DjangoPractice
GeoDjango project with REST Framework
Стек: Python, Django, Django REST Framework, PostgreSQL, PostGIS

## Содержание задания:
## 1. Создать новый проект Django + Django REST Framework. Авторизация и интерфейс администрирования не требуются.
Создан проект DjangoPractice
## 2. Добавить в проект приложение с моделью Building, описывающую географическое положение и адрес строения. Требуются следующие поля:
◦ id - целочисленный первичный ключ с автоинкрементом;
◦ geom - полигональная геометрия в системе координат WGS84 (EPSG:4326);
◦ address - текстовая строка для хранения почтового адреса строения.
## 3. Реализовать REST API для CRUD на базе ModelViewSet, позволяющий создавать, изменять, удалять и получать записи таблицы building. Должен поддерживаться формат пространственных данных GeoJSON(RFC 7946). При обращении к элементам коллекции по id (методы GET, POST, UPDATE) долженпередаваться или возвращаться объект типа Feature, при обращении к коллекции в целом (метод GET) -объект FeatureCollection из спецификации GeoJSON. Пагинация результатов не требуется.
Перейдя по адресу http://127.0.0.1:8000/api/buildings/ можно увидеть все записи со строениями, там же с помощью POST запроса можно добавить новую запись или изменить.
Перейти на адрес конкретной записи можно дописав id строения, например http://127.0.0.1:8000/api/buildings/1
## 4. Добавить валидатор, проверяющий геометрию объекта на валидность при добавлении или изменении записи.
Валидатор внедрён в geom поле, модели Building с помощью сериализаторов
## 5. Добавить фильтр, позволяющий отфильтровывать возвращаемые геометрические объекты в зависимостиот их площади. Фильтр должен принимать в параметрах GET-запроса значение минимальной и (или)максимальной площади полигона в квадратных метрах.
Фильтр был реализован, значения в запросе указывается в кв. метрах.
- http://127.0.0.1:8000/api/buildings/?min=20
- http://127.0.0.1:8000/api/buildings/?max=250
- http://127.0.0.1:8000/api/buildings/?max=100max=500
## 6. Добавить фильтр, позволяющий отфильтровывать возвращаемые геометрические объекты в зависимостиот их расстояния от заданной точки. Фильтр должен принимать в параметрах GET-запроса координатыточки (долготу и широту в системе координат WGS84) и максимальное расстояние в метрах. Должнывозвращаться объекты, попадающие в заданный радиус полностью или частично.
Использован фильтр rest_framework_gis.filters.DistanceToPointFilter затем при помощи distance_filter_convert_meters = True, расстояние переводится в метры.

- http://127.0.0.1:8000/api/buildings/?dist=100000
- http://127.0.0.1:8000/api/buildings/?dist=50000&point=1.5,3
- http://127.0.0.1:8000/api/buildings/?dist=35000&point=-2.5,-2.5
## 7. Добавить в проект тесты, проверяющие правильность работы фильтров.
Добавлены тесты 2-ух фильтров. Запускать тесты командой python manage.py test , находясь в директории.
